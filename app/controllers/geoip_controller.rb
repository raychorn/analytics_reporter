class GeoipController < ApplicationController
  #def index
    #207.67.226.96
  #  xmlStringBuilder = ""
  #  ipList = ["10.0.0.128" , "10.0.0.130" , "10.0.0.134" , "10.0.1.1" , "10.0.1.10" , "10.0.1.100" , "10.0.1.102" , "10.0.1.105" , "10.0.1.107" , "10.0.1.108" , "10.0.1.109" , "10.0.1.11" , "10.0.1.113" , "10.0.1.114" , "10.0.1.119" , "10.0.1.12" , "10.0.1.120" , "10.0.1.122" , "10.0.1.13" , "10.0.1.132" , "10.0.1.134" , "10.0.1.135" , "10.0.1.137" , "10.0.1.139" , "10.0.1.14" , "10.0.1.140" , "10.0.1.141" , "10.0.1.142" , "10.0.1.148" , "10.0.1.149" , "10.0.1.154" , "10.0.1.16" , "10.0.1.166" , "10.0.1.17" , "10.0.1.19" , "10.0.1.199" , "10.0.1.2" , "10.0.1.20" , "10.0.1.21" , "10.0.1.22" , "10.0.1.23" , "10.0.1.24" , "10.0.1.26" , "10.0.1.27" , "10.0.1.28" , "10.0.1.29" , "10.0.1.3" , "10.0.1.30" , "10.0.1.32" , "10.0.1.33" , "10.0.1.34" , "10.0.1.35" , "10.0.1.36" , "10.0.1.37" , "10.0.1.4" , "10.0.1.40" , "10.0.1.42" , "10.0.1.43" , "10.0.1.44" , "10.0.1.45" , "10.0.1.47" , "10.0.1.48" , "10.0.1.5" , "10.0.1.50" , "10.0.1.51" , "10.0.1.52" , "10.0.1.53" , "10.0.1.54" , "10.0.1.55" , "10.0.1.56" , "10.0.1.57" , "10.0.1.58" , "10.0.1.59" , "10.0.1.60" , "10.0.1.61" , "10.0.1.62" , "10.0.1.63" , "10.0.1.64" , "10.0.1.65" , "10.0.1.66" , "10.0.1.67" , "10.0.1.68" , "10.0.1.69" , "10.0.1.70" , "10.0.1.72" , "10.0.1.73" , "10.0.1.74" , "10.0.1.75" , "10.0.1.76" , "10.0.1.77" , "10.0.1.78" , "10.0.1.79" , "10.0.1.80" , "10.0.1.81" , "10.0.1.82" , "10.0.1.83" , "10.0.1.84" , "10.0.1.86" , "10.0.1.88" , "10.0.1.89" , "10.0.1.9" , "10.0.1.90" , "10.0.1.91" , "10.0.1.93" , "10.0.1.94" , "10.0.1.97" , "10.0.1.99" , "10.0.10.147" , "10.0.2.108" , "10.0.2.124" , "10.0.2.187" , "10.0.3.10" , "10.0.3.110" , "10.0.3.204" , "10.0.3.244" , "10.0.3.247" , "10.0.3.29" , "10.0.3.94" , "10.0.4.108" , "10.0.4.110" , "10.0.4.112" , "10.0.4.114" , "10.0.4.120" , "10.0.4.124" , "10.0.4.125" , "10.0.4.127" , "10.0.4.129" , "10.0.4.131" , "10.0.4.132" , "10.0.4.134" , "10.0.4.144" , "10.0.4.145" , "10.0.4.51" , "10.0.4.54" , "10.0.4.59" , "10.0.4.65" , "10.0.4.68" , "10.0.4.70" , "10.0.4.74" , "10.0.4.77" , "10.0.4.79" , "10.0.4.83" , "10.0.4.87" , "10.0.4.89" , "10.0.4.90" , "10.0.4.92" , "10.0.4.93" , "10.0.4.97" , "10.0.4.98" , "10.100.162.40" , "12.233.205.138" , "12.233.205.189" , "162.115.236.101" , "162.115.236.102" , "162.115.236.103" , "162.115.236.104" , "169.234.118.5" , "172.16.1.107" , "172.16.1.110" , "172.16.1.117" , "172.16.1.118" , "172.16.1.119" , "172.16.1.120" , "172.16.1.122" , "172.16.1.124" , "172.16.1.129" , "172.16.1.131" , "172.16.1.132" , "172.16.1.140" , "172.16.1.141" , "172.16.1.143" , "172.16.1.144" , "172.16.1.145" , "172.16.1.147" , "172.16.1.149" , "172.16.1.151" , "172.16.1.155" , "172.16.1.157" , "172.16.1.159" , "172.16.1.161" , "172.16.1.174" , "172.16.1.186" , "172.16.1.189" , "172.16.1.248" , "172.16.1.249" , "172.16.1.55" , "172.16.1.56" , "172.16.1.62" , "172.16.1.76" , "172.16.1.80" , "172.16.1.90" , "172.16.1.92" , "172.16.1.96" , "172.17.0.100" , "172.17.0.102" , "172.17.0.124" , "172.17.0.125" , "172.17.0.127" , "172.17.0.128" , "172.17.0.139" , "172.17.0.142" , "172.17.0.148" , "172.17.0.160" , "172.17.0.176" , "172.17.0.8" , "172.30.1.114" , "172.30.1.116" , "172.30.1.14" , "172.30.1.16" , "172.30.1.18" , "172.30.1.19" , "172.30.1.41" , "172.30.1.44" , "172.30.1.48" , "172.30.1.61" , "172.30.1.64" , "172.30.1.67" , "172.30.1.73" , "172.30.1.74" , "172.30.1.75" , "172.30.1.80" , "172.30.1.82" , "172.30.1.86" , "172.30.1.88" , "172.30.1.96" , "172.30.1.98" , "172.30.21.41" , "172.30.22.100" , "172.30.22.101" , "172.30.22.102" , "172.30.22.103" , "172.30.22.104" , "172.30.22.106" , "172.30.22.107" , "172.30.22.108" , "172.30.22.109" , "172.30.22.111" , "172.30.22.112" , "172.30.22.113" , "172.30.22.114" , "172.30.22.116" , "172.30.22.117" , "172.30.22.118" , "172.30.22.119" , "172.30.22.122" , "172.30.22.124" , "172.30.22.125" , "172.30.22.126" , "172.30.22.127" , "172.30.22.128" , "172.30.22.129" , "172.30.22.130" , "172.30.22.131" , "172.30.22.132" , "172.30.22.133" , "172.30.22.134" , "172.30.22.137" , "172.30.22.138" , "172.30.22.139" , "172.30.22.140" , "172.30.22.141" , "172.30.22.142" , "172.30.22.143" , "172.30.22.144" , "172.30.22.145" , "172.30.22.146" , "172.30.22.148" , "172.30.22.149" , "172.30.22.150" , "172.30.22.151" , "172.30.22.153" , "172.30.22.154" , "172.30.22.155" , "172.30.22.156" , "172.30.22.157" , "172.30.22.159" , "172.30.22.161" , "172.30.22.162" , "172.30.22.164" , "172.30.22.166" , "172.30.22.167" , "172.30.22.172" , "172.30.22.173" , "172.30.22.174" , "172.30.22.175" , "172.30.22.176" , "172.30.22.178" , "172.30.22.179" , "172.30.22.180" , "172.30.22.181" , "172.30.22.183" , "172.30.22.184" , "172.30.22.185" , "172.30.22.192" , "172.30.22.193" , "172.30.22.194" , "172.30.22.195" , "172.30.22.196" , "172.30.22.197" , "172.30.22.199" , "172.30.22.200" , "172.30.22.201" , "172.30.22.206" , "172.30.22.209" , "172.30.22.21" , "172.30.22.210" , "172.30.22.211" , "172.30.22.213" , "172.30.22.218" , "172.30.22.219" , "172.30.22.223" , "172.30.22.225" , "172.30.22.226" , "172.30.22.227" , "172.30.22.230" , "172.30.22.231" , "172.30.22.234" , "172.30.22.235" , "172.30.22.236" , "172.30.22.241" , "172.30.22.243" , "172.30.22.244" , "172.30.22.251" , "172.30.22.253" , "172.30.22.254" , "172.30.22.26" , "172.30.22.28" , "172.30.22.29" , "172.30.22.32" , "172.30.22.34" , "172.30.22.35" , "172.30.22.36" , "172.30.22.37" , "172.30.22.38" , "172.30.22.39" , "172.30.22.42" , "172.30.22.43" , "172.30.22.44" , "172.30.22.45" , "172.30.22.46" , "172.30.22.47" , "172.30.22.50" , "172.30.22.51" , "172.30.22.52" , "172.30.22.53" , "172.30.22.55" , "172.30.22.56" , "172.30.22.58" , "172.30.22.59" , "172.30.22.62" , "172.30.22.63" , "172.30.22.66" , "172.30.22.67" , "172.30.22.70" , "172.30.22.71" , "172.30.22.72" , "172.30.22.73" , "172.30.22.74" , "172.30.22.75" , "172.30.22.76" , "172.30.22.77" , "172.30.22.78" , "172.30.22.79" , "172.30.22.80" , "172.30.22.81" , "172.30.22.82" , "172.30.22.83" , "172.30.22.84" , "172.30.22.85" , "172.30.22.86" , "172.30.22.87" , "172.30.22.88" , "172.30.22.90" , "172.30.22.91" , "172.30.22.92" , "172.30.22.93" , "172.30.22.95" , "172.30.22.97" , "172.30.22.98" , "172.30.22.99" , "178.95.203.219" , "178.95.58.238" , "178.95.93.141" , "184.91.219.82" , "188.105.114.152" , "188.105.120.180" , "188.105.124.225" , "188.105.128.208" , "188.105.141.254" , "188.110.224.3" , "188.221.140.62" , "192.168.245.101" , "192.168.245.103" , "192.168.245.104" , "192.168.245.109" , "192.168.245.110" , "192.168.245.112" , "192.168.245.121" , "192.168.245.124" , "192.168.245.133" , "192.168.245.134" , "192.168.245.146" , "192.168.245.148" , "192.168.245.149" , "192.168.245.150" , "192.168.245.151" , "192.168.245.159" , "192.168.245.16" , "192.168.245.162" , "192.168.245.163" , "192.168.245.164" , "192.168.245.166" , "192.168.245.170" , "192.168.245.171" , "192.168.245.22" , "192.168.245.24" , "192.168.245.29" , "192.168.245.32" , "192.168.245.33" , "192.168.245.34" , "192.168.245.35" , "192.168.245.36" , "192.168.245.38" , "192.168.245.39" , "192.168.245.41" , "192.168.245.43" , "192.168.245.44" , "192.168.245.45" , "192.168.245.46" , "192.168.245.48" , "192.168.245.50" , "192.168.245.51" , "192.168.245.52" , "192.168.245.53" , "192.168.245.54" , "192.168.245.57" , "192.168.245.61" , "192.168.245.63" , "192.168.245.67" , "192.168.245.68" , "192.168.245.69" , "192.168.245.71" , "192.168.245.72" , "192.168.245.74" , "192.168.245.76" , "192.168.245.81" , "192.168.245.82" , "192.168.245.84" , "192.168.245.87" , "192.168.245.88" , "192.168.245.90" , "192.168.245.91" , "192.168.245.94" , "192.168.245.96" , "192.168.245.99" , "198.23.5.73" , "203.217.28.88" , "207.67.226.123" , "209.183.55.114" , "209.81.21.134" , "209.81.21.136" , "209.81.21.142" , "209.81.21.225" , "223.13.13.100" , "223.13.13.119" , "223.13.13.121" , "223.13.13.122" , "223.13.13.123" , "223.13.13.124" , "223.13.13.128" , "223.13.13.130" , "223.13.13.134" , "223.13.13.138" , "223.13.13.139" , "223.13.13.143" , "223.13.13.145" , "223.13.13.149" , "223.13.13.152" , "223.13.13.153" , "223.13.13.164" , "223.13.13.168" , "223.13.13.181" , "223.13.13.187" , "223.13.13.192" , "223.13.13.202" , "223.13.13.203" , "223.13.13.36" , "223.13.13.37" , "223.13.13.38" , "223.13.13.39" , "223.13.13.40" , "223.13.13.42" , "223.13.13.43" , "223.13.13.44" , "223.13.13.45" , "223.13.13.50" , "24.18.236.111" , "24.4.49.189" , "24.5.146.39" , "24.6.206.216" , "63.148.166.3" , "66.182.1.202" , "67.161.28.222" , "67.180.162.227" , "67.203.153.59" , "67.203.153.71" , "68.101.106.191" , "68.183.207.68" , "68.192.168.155" , "68.225.227.201" , "69.181.165.108" , "70.132.110.22" , "70.132.2.140" , "70.212.173.63" , "70.212.234.190" , "70.231.236.232" , "70.231.250.66" , "70.231.252.8" , "70.36.138.208" , "70.36.138.217" , "70.36.138.224" , "71.103.84.50" , "71.135.52.233" , "71.177.80.3" , "74.126.225.60" , "74.244.123.196" , "75.192.64.188" , "75.193.240.184" , "75.193.49.134" , "75.238.81.86" , "75.36.239.95" , "75.48.114.71" , "75.52.122.149" , "75.53.115.13" , "75.53.123.148" , "75.53.123.220" , "76.200.146.196" , "76.200.146.222" , "76.200.147.149" , "76.200.151.174" , "76.200.151.231" , "76.200.154.190" , "76.200.154.29" , "76.21.4.62" , "76.216.106.124" , "76.216.107.139" , "76.216.107.38" , "76.222.193.2" , "76.254.86.188" , "76.254.87.249" , "76.30.215.104" , "86.176.4.51" , "86.176.4.95" , "86.177.178.107" , "86.177.178.234" , "86.177.179.210" , "86.178.86.55" , "86.178.86.82" , "86.179.39.253" , "86.179.58.16" , "86.179.58.224" , "86.179.58.64" , "86.179.59.230" , "86.179.60.124" , "86.179.60.126" , "86.180.120.6" , "86.180.121.77" , "86.180.159.126" , "86.180.159.140" , "86.180.159.210" , "86.180.159.236" , "86.180.216.75" , "86.181.10.77" , "86.181.81.20" , "86.181.81.96" , "87.198.172.217" , "88.67.152.225" , "91.124.107.203" , "91.124.17.143" , "95.135.103.164" , "95.135.132.10" , "95.135.140.120" , "95.135.142.169" , "95.135.152.229" , "95.135.160.160" , "95.135.163.206" , "95.135.169.30" , "95.135.174.37" , "95.135.176.169" , "95.135.18.146" , "95.135.180.97" , "95.135.181.21" , "95.135.183.194" , "95.135.2.88" , "95.135.205.47" , "95.135.206.102" , "95.135.217.106" , "95.135.217.126" , "95.135.217.63" , "95.135.223.195" , "95.135.239.19" , "95.135.243.139" , "95.135.244.65" , "95.135.245.105" , "95.135.246.153" , "95.135.28.202" , "95.135.34.220" , "95.135.34.48" , "95.135.49.45" , "95.135.66.122" , "98.176.83.40" , "98.190.45.1" , "98.194.132.137" , "98.200.185.223" , "98.227.246.79" , "98.234.56.126" , "99.16.196.225" , "99.16.198.40" , "99.163.110.223" , "99.163.51.58" , "99.177.88.145" , "99.185.120.198" , "99.185.123.164" , "99.20.36.90" , "99.29.96.234" , "99.29.96.44" , "99.29.98.42" , "99.34.233.80" , "99.41.24.21" , "99.41.26.6" , "99.59.61.73" , "99.97.68.47"]
  #  ipList.each do |ipItem|
  #  @location = GeoipSystem::GeoSystem.lookup(ipItem) #(params[:ip])
#	    #Build XML
#	    xml = Builder::XmlMarkup.new(:indent => 1)
#	    xml.instruct!
#	    xml.root do
#	      xml.host_name @location[0]
#	      xml.host_ip @location[1]
#	      xml.country_code @location[2] 
#	      xml.country_code3 @location[3]
#	      xml.country_name @location[4]
#	      xml.region @location[5]
#	      xml.state @location[6]
#	      xml.city @location[7]
#	      xml.zip @location[8]
#	      xml.latitude @location[9]
#	      xml.longitude @location[10]
#	      xml.loc1 @location[11]
#	      xml.loc2 @location[12]
#	    end
#	    if @location != nil
#	    	xmlStringBuilder += xml.target!
#	    end
#	end
#	render :xml => xmlStringBuilder
# end
  
  def index
    #207.67.226.96
    @location = GeoipSystem::GeoSystem.lookup(params[:ip])
    #Build XML
    xml = Builder::XmlMarkup.new(:indent => 1)
    xml.instruct!
    xml.root do
      xml.host_name @location[0]
      xml.host_ip @location[1]
      xml.country_code @location[2]
      xml.country_code3 @location[3]
      xml.country_name @location[4]
      xml.region @location[5]
      xml.state @location[6]
      xml.city @location[7]
      xml.zip @location[8]
      xml.latitude @location[9]
      xml.longitude @location[10]
      xml.loc1 @location[11]
      xml.loc2 @location[12]
    end
    render :xml => xml.target!
  end
end